<!DOCTYPE html>
<html>

<head>
<title>Home Laboratory Catalogue</title>
<style>
body {
    background-color: #000;
    color: #fff;
	display: flex;
	flex-direction: column;
    margin-top: 0px;
    font-family: Arial, sans-serif;
    text-align: center;
    overflow: hidden;
}

.gui-container {
		overflow: auto;
		padding-top: 20px;
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE and Edge */
		justify-content: center;
        display: flex;
		flex-direction: row;
		margin: -30px 0px 0px 0px; /* Margin for top, right, bottom, left */
		width: 100%;
        transition: transform 0.3s ease;
    }
	
.gui-container::-webkit-scrollbar {
        display: none; /* Chrome, Safari, and Opera */
    }

.gui-icon {
        flex: 0 0 auto;
        flex-direction: column;
        font-size: 16px;
        margin: 0px 5px 0px 5px;
        display: flex;
        opacity: 0.60;
        align-items: center;
        justify-content: top;
		cursor: pointer;
        position: relative;
        transform: scale(0.7);
        transition: transform 0.3s ease;
    }
	
.gui-icon:hover {
        opacity: 1;
    }

.gui-icon.active {
    z-index: 1;
    margin: -15px 0px 0px 0px;
    transform: scale(1.0);
    opacity: 1;
    transform-origin: center;
    transition: transform 0.3s ease;
    animation: pulseOpacity 1.5s infinite linear;
    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.7));
}

.gui-icon.active img {
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.6));
    animation: pulseOpacity 1.5s infinite linear;
}


.icon-label {
        display: flex;
		font-size: 17px;
		margin: 0; 
        align-items: center; 
        opacity: 0.6;
        transition: opacity 0.3s ease;
    }

.gui-icon.active .icon-label {
        visibility: visible;
		font-size: 20px;
        opacity: 1;
		animation: pulseOpacity 1.5s infinite linear;
    }

.gui-icon.active .sub-options {
        display: flex;
		animation: pulseOpacity 1.5s infinite linear;
    }
	
.icon-label-sub {
        visibility: hidden;
        font-size: 17px;
        opacity: 0.6;
        transition: opacity 0.3s ease;
    }
	
h3 {
        font-size: 15px;
        opacity: 0.9;
		margin: 0px;
    }

h4 {
        font-size: 12px;
        opacity: 0.9;
		margin: 0px;
    }

.gui-icon.active-sub .icon-label-sub {
        visibility: visible;
        font-size: 20px;
        opacity: 0.9;
        animation: pulseOpacity 1.5s infinite linear;
    }

@keyframes pulseOpacity {
        0% {
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.2), 0 0 16px rgba(255, 255, 255, 0.2), 0 0 20px rgba(255, 255, 255, 0.2);
        }
        50% {
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.7), 0 0 16px rgba(255, 255, 255, 0.7), 0 0 20px rgba(255, 255, 255, 0.7);
        }
        100% {
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.2), 0 0 16px rgba(255, 255, 255, 0.2), 0 0 20px rgba(255, 255, 255, 0.2);
        }
    }
	
	.sub-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0px 10px 0px 10px;
    font-size: 12px;
    color: #fff;
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.3s ease;
}

.sub-option-icon {
    margin: 0px 0px 0px 0px;
    cursor: pointer;
    transition: opacity 0.3s ease;
	display: flex;
    flex-direction: column;
}

.sub-option.active-option {
    opacity: 1;
	margin: -10px 0px 0px 0px; 
    transform: scale(1.2);
    transition: transform 0.3s ease;
    animation: pulseOpacity2 1.5s infinite linear;
    filter: drop-shadow(0 0 13px rgba(255, 255, 255, 0.7));
}

.sub-options-container {
    display: flex;
	margin: 0px;
    justify-content: center;
  }

  .sub-options {
    display: flex;
    flex-direction: row;
    justify-content: center;
  }

.sub-option:hover {
    opacity: 1;
}

.sort-option {
    display: flex;
	flex-direction: column;
	text-align: center;
	margin: 0px 15px 0px 15px;
    font-size: 8px;
    color: #fff;
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.3s ease;
}

.sort-option-icon {
    margin: 0px 0px 0px 0px;
    cursor: pointer;
    transition: opacity 0.3s ease;
	display: flex;
    flex-direction: column;
}

.sort-option.active-option {
    opacity: 1;
	margin: -10px 0px 0px 0px; 
    transform: scale(1.2);
    transition: transform 0.3s ease;
    animation: pulseOpacity2 1.5s infinite linear;
    filter: drop-shadow(0 0 13px rgba(255, 255, 255, 0.7));
}

.sort-options-container {
    justify-content: right;
    left: 85%;
    transform: translateX(-20%);
}

.sort-option:hover {
    opacity: 0.7;
}

.container {
            text-align: center;
            justify-content: center;
            width: 56%;
            border-radius: 15px;
            border: 2px solid blue;
            margin-top: 10px;
            margin-bottom: 0px;
            box-shadow: 0px 0px 6px rgba(255, 255, 255, 0.5),
                        inset 3px 3px 10px rgba(0, 0, 0, 0.3);
        }
		
.wrapper {
    height: calc(84vh - 125px); /* Adjusting the height based on the viewport height minus the margin-top value */
	scrollbar-width: thin; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
    overflow: auto;
}

.grid-container {
    display: grid;
	margin-top: 0px;
    grid-template-columns: repeat(8, 1fr);
    gap: 0px;
    padding: 0px;
    scrollbar-width: thin; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
}

.wrapper::-webkit-scrollbar {
    width: 10px; /* Chrome, Safari, and Opera */
}

.wrapper::-webkit-scrollbar-track {
    background: transparent;
}

.wrapper::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.3);
    border-radius: 20px;
}

.grid-container::-webkit-scrollbar {
    width: 10px; /* Chrome, Safari, and Opera */
}

.grid-container::-webkit-scrollbar-track {
    background: transparent;
}

.grid-container::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.3);
    border-radius: 10px;
}
        
.grid-item {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
			margin-bottom: 10px;
            cursor: pointer;
        }


.uuid-name {
    font-size: 10px;
    margin-top: 0px;
    text-align: center;
    color: #FFFFFF;
	overflow: hidden;
	white-space: nowrap;
    text-overflow: clip;
    cursor: pointer;
	width: 215px;
}

.nice-name {
    font-size: 13px;
    margin-top: 0px;
	margin-bottom: 0px;
    padding: 0px 0px;
    text-align: center;
    color: #ffffff;
    cursor: pointer;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: clip;
    width: 215px; /* Adjust the width as needed */
    transition: all 0.5s ease; /* Adding a transition effect for smooth scrolling */
    animation: none;
}

@keyframes bounce {
    0% { transform: translateX(0); }
    50% { transform: translateX(-10px); } /* Adjust the movement here to move smoothly from right to left */
    100% { transform: translateX(0); } /* Adjust the movement here to move smoothly from left to right */
}

.nice-name:hover {
    animation: bounce 2s infinite linear;
    overflow: visible;
    white-space: nowrap;
	color: #FFFF00;
}

.folder-name {
    font-size: 9px ;
	margin-top: 0px;
	margin-bottom: 0px;
    padding-bottom: 18px;
	padding-left: 15px;
	padding-top: 3px;
	padding-right: 15px;
    text-align: center;
    color: #ffffff;
    cursor: pointer;
}

h3 {
  font-size: 14px;
		text-align: center;
		cursor: pointer;
		padding: 2px 0px 10px;
		margin-top: 0px; /* Adjust the spacing as needed */
}


.placeholder-image {
            border-radius: 15px;
			width: 90%;
        }
		
.placeholder-image:hover {
transition: transform 0.3s ease;
    animation: pulseOpacity3 1s infinite linear;
    filter: drop-shadow(0 0 18px rgba(255, 255, 255, 0.7));
	transform: scale(1.02);
    transition: transform 0.3s ease;
}

@keyframes pulseOpacity3 {
    0% {
        filter: drop-shadow(0 0 25px rgba(255, 255, 255, 1));
    }
    50% {
        filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.5));
    }
    100% {
        filter: drop-shadow(0 0 25px rgba(255, 255, 255, 1));
    }
}


@keyframes pulseOpacity2 {
    0% {
        filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.7));
    }
    50% {
        filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.1));
    }
    100% {
        filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.7));
    }
}

#postinstallPopup {
    position: fixed;
    align-items: center;
    top: 40%;
    margin: 3px;
    width: 500px;
    left: 50%;
    transform: translate(-50%, -50%) scale(0); /* Start scaled down to 0 */
    background: rgba(0, 0, 0, 0.96);
    padding: 4px;
    border-radius: 10px;
    color: white;
    border: 4px solid #fff;
    box-shadow: 0px 0px 6px rgba(0, 0, 255, 0.5), 
                inset 3px 3px 10px rgba(0, 0, 255, 0.3);
    animation: scaleUp 0.5s ease forwards; /* Apply the animation */
}

@keyframes scaleUp {
    from {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
    }
    to {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }
}

@keyframes scaleDown {
    from {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }
    to {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
    }
}


#postinstallPopup button {
    padding: 3px 6px;
    font-size: 12px;
    background-color: #ffffff;
    color: #000;
    border: 1px solid #fff;
    border-radius: 5px;
    margin: 4px;
    cursor: pointer;
    box-shadow: 0px 0px 6px rgba(255, 255, 255, 0.5),
                inset 3px 3px 10px rgba(0, 0, 0, 0.3);
}


#postinstallPopup button:hover {
    opacity: 0.9;
}

#postinstallPopup textarea {
    height: 35px;
	width: 460px;
	font-size: 13px;
    margin: 3px 0;
    padding: 2px;
    border-radius: 5px;
    border: 2px solid #fff;
    background-color: transparent;
    color: white;
}

a {
        text-decoration: none;
        color: inherit;
		font-size: 12px;
    }
	
	.downloadbutton {
			padding: 4px;
			font-size: 12px;
			height: 15px;
			margin: 5px;
			background-color: #ffffff;
			color: #000;
			border: 1px solid #000;
			border-radius: 5px;
			justify-content: center;
			cursor: pointer;
        }
		

#sqlOutput {
    height: 30px;
	font-size: 10px;
	justify-content: center;
    padding: 10px;
    border-radius: 5px;
    border: 2px solid #fff;
    background-color: transparent;
    color: white;
    overflow: auto;
}

.button-group {
    display: flex;
    justify-content: center;
}

.button-group button,
.button-group a {
    margin: 4px;
}



#testinventoryPopup {
    position: fixed;
    top: 50%;
	width: 1200px;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.9);
    padding: 10px;
    border-radius: 10px;
    color: white;
	border: 4px solid #fff;
    box-shadow: 0px 0px 6px rgba(0, 0, 255, 0.5), 
                inset 3px 3px 10px rgba(0, 0, 255, 0.3);
}

#testinventoryPopup button {
    padding: 8px 16px;
    font-size: 14px;
    background-color: #ffffff;
    color: #000;
    border: 1px solid #fff;
    border-radius: 5px;
    margin: 10px;
    cursor: pointer;
    box-shadow: 0px 0px 6px rgba(255, 255, 255, 0.5),
                inset 3px 3px 10px rgba(0, 0, 0, 0.3);
}


#testinventoryPopup button:hover {
    opacity: 0.9;
}

#testinventoryPopup textarea {
    width: 1000px;
    height: 90%;
    margin: 10px 0;
    padding: 10px;
    border-radius: 5px;
    border: 2px solid #fff;
    background-color: transparent;
    color: white;
}

#testxmlOutput {
    width: 1000px;
    height: 200px;
	font-size: 15px;
    margin: 10px 0;
    padding: 10px;
    border-radius: 5px;
    border: 2px solid #fff;
    background-color: transparent;
    color: white;
    overflow: auto;
}

.go-button {	
border-radius: 8px;
	margin-bottom: 30px;
	margin-left: 15px;
	margin-top: 30px;
    width: 60px;
    height: 40px;
}

.go-button:hover {
    opacity: 0.7;
}

.button-row {
    margin-bottom: 5px;
	margin-top: 5px;
}

.low-profile-button {
    height: 20px;
	    padding-bottom: 4px;
padding-top: 4px;
    background-color: #333;
    color: #fff;
    border: none;
    border-radius: 3px;
    font-size: 14px;
    cursor: pointer;
}

#keywordInput {
	width: 500px;
    padding: 8px;
    border: none;
    border-radius: 5px;
    background-color: #333;
    color: #fff;
    margin-top: 30px;
	margin-bottom: 30px;
}

#keywordInput::placeholder {
    color: #aaa;
}

#keywordInput:focus {
    outline: none;
}

#searchButton {
	width: 20px;
	height: 20px;
    /* Adjusted padding to match the input box */
    border: none;
    border-radius: 5px;
    background-color: #4CAF50;
    color: #fff;
    cursor: pointer;
}

#searchButton:hover {
    background-color: #45a049;
}
</style>
</head>

<body>
	<a href="http://psho.me/">
		<h3 title="Switch to old scene info">Home Laboratory Catalogue</h3>
	  </a>
    <div class="gui-container" id="gui-container">
        <div class="gui-icon">
            <img src="ICON/MALE6.PNG">
			<div style="margin-top: 0px;" class="icon-label">Male</div>
        </div>
        <div class="gui-icon">
            <img src="ICON/FEMALE6.PNG">
			 <div style="margin-top: 0px;" class="icon-label">Female</div>
        </div>
        <div class="gui-icon">
            <img src="ICON/FURNITUR.PNG">
			 <div style="margin-top: 0px;" class="icon-label">Furniture</div>
        </div>
		<div class="gui-icon">
            <img src="ICON/PORTABLE.PNG">
			<div style="margin-top: 0px;" class="icon-label">Portables</div>
        </div>
		<div class="gui-icon">
            <img src="ICON/SPACE2.PNG">
			<div style="margin-top: 0px;" class="icon-label">Spaces</div>
        </div>
		<div class="gui-icon">
            <img src="ICON/REWARDS3.PNG">
			<div style="margin-top: 0px;" class="icon-label">Other</div>
        </div>
		<div class="gui-icon">
            <img src="ICON/MINIGAMES2.PNG">
			<div style="margin-top: 0px;" class="icon-label">Minigames</div>
        </div>
		<div class="gui-icon">
            <img src="ICON/SYSTEM.PNG">
			<div style="margin-top: 0px;" class="icon-label">System</div>
        </div>
		<div class="gui-icon">
            <img src="ICON/BUNDLES2.PNG">
			<div style="margin-top: 0px;" class="icon-label">Bundles</div>
        </div>
		<div class="gui-icon">
            <img src="ICON/TOOLS.PNG">
			<div style="margin-top: 0px;" class="icon-label">Tools</div>
        </div>
		<div class="gui-icon active">
            <img src="ICON/SEARCH.PNG">
			<div style="margin-top: 0px;" class="icon-label">Search</div>
        </div>
    </div>
	<div class="sub-options-container">
    <div class="sub-options" id="sub-options-0">
		<div class="sub-option" onclick="loadFolder('categories/Clothing_Male_Outfit.xml')"><span class="sub-option-icon"><img src="ICON/OUTFITS.PNG" alt="Outfits Icon"></span>Outfits</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Male_Hat.xml')"><span class="sub-option-icon"><img src="ICON/MALE_HATS.PNG" alt="Hat Icon"></span>Hats</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Male_Hair.xml')"><span class="sub-option-icon"><img src="ICON/MALE_HAIR.PNG" alt="Hair Icon"></span>Hair</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Male_Torso.xml')"><span class="sub-option-icon"><img src="ICON/TORSO.PNG" alt="Torso Icon"></span>Torso</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Male_Hands.xml')"><span class="sub-option-icon"><img src="ICON/HANDS.PNG" alt="Hands Icon"></span>Hands</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Male_Legs.xml')"><span class="sub-option-icon"><img src="ICON/LEGS.PNG" alt="Legs Icon"></span>Legs</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Male_Feet.xml')"><span class="sub-option-icon"><img src="ICON/FEET.PNG" alt="Feet Icon"></span>Feet</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Male_Jewellery.xml')"><span class="sub-option-icon"><img src="ICON/JEWELLERY.PNG" alt="Jewellery Icon"></span>Jewellery</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Male_Glasses.xml')"><span class="sub-option-icon"><img src="ICON/GLASSES.PNG" alt="Glasses Icon"></span>Glasses</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Male_HeadPhones.xml')"><span class="sub-option-icon"><img src="ICON/HEADPHONES.PNG" alt="Headphones Icon"></span>Headphones</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Male_FacialHair.xml')"><span class="sub-option-icon"><img src="ICON/FACIAL_HAIR.PNG" alt="Facial Hair Icon"></span>FacialHair</div>
    </div>
</div>
<div class="sub-options-container">
    <div class="sub-options" id="sub-options-1">
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Female_Outfit.xml')"><span class="sub-option-icon"><img src="ICON/OUTFITS.PNG" alt="Outfits Icon"></span>Outfits</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Female_Hat.xml')"><span class="sub-option-icon"><img src="ICON/FEMALE_HATS.PNG" alt="Hat Icon"></span>Hats</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Female_Hair.xml')"><span class="sub-option-icon"><img src="ICON/FEMALE_HAIR.PNG" alt="Hair Icon"></span>Hair</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Female_Torso.xml')"><span class="sub-option-icon"><img src="ICON/TORSO.PNG" alt="Torso Icon"></span>Torso</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Female_Hands.xml')"><span class="sub-option-icon"><img src="ICON/HANDS.PNG" alt="Hands Icon"></span>Hands</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Female_Legs.xml')"><span class="sub-option-icon"><img src="ICON/FEMALE_LEGS.PNG" alt="Legs Icon"></span>Legs</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Female_Feet.xml')"><span class="sub-option-icon"><img src="ICON/FEMALE_FEET.PNG" alt="Feet Icon"></span>Feet</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Female_Jewellery.xml')"><span class="sub-option-icon"><img src="ICON/JEWELLERY.PNG" alt="Jewellery Icon"></span>Jewellery</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Female_Glasses.xml')"><span class="sub-option-icon"><img src="ICON/GLASSES.PNG" alt="Glasses Icon"></span>Glasses</div>
        <div class="sub-option" onclick="loadFolder('categories/Clothing_Female_HeadPhones.xml')"><span class="sub-option-icon"><img src="ICON/HEADPHONES.PNG" alt="Headphones Icon"></span>Headphones</div>
    </div>
</div>
<div class="sub-options-container">
    <div class="sub-options" id="sub-options-2">
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Appliance.xml')"><span class="sub-option-icon"><img src="ICON/APPLIANCES.PNG" alt="Appliance Icon"></span>Appliances</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Chair.xml')"><span class="sub-option-icon"><img src="ICON/CHAIRS.PNG" alt="Chair Icon"></span>Chairs</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Cube.xml')"><span class="sub-option-icon"><img src="ICON/CUBE.PNG" alt="Cubes Icon"></span>Cubes</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Flooring.xml')"><span class="sub-option-icon"><img src="ICON/FLOORING.PNG" alt="Flooring Icon"></span>Flooring</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Footstool.xml')"><span class="sub-option-icon"><img src="ICON/FOOTSTOOLS.PNG" alt="Footstool Icon"></span>Footstools</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Frame.xml')"><span class="sub-option-icon"><img src="ICON/FRAMES.PNG" alt="Frame Icon"></span>Frames</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Light.xml')"><span class="sub-option-icon"><img src="ICON/LIGHTS.PNG" alt="Light Icon"></span>Lights</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Ornament.xml')"><span class="sub-option-icon"><img src="ICON/VASE.PNG" alt="Ornament Icon"></span>Ornaments</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Sofa.xml')"><span class="sub-option-icon"><img src="ICON/SOFAS.PNG" alt="Sofa Icon"></span>Sofas</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Table.xml')"><span class="sub-option-icon"><img src="ICON/TABLES.PNG" alt="Table Icon"></span>Tables</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Storage.xml')"><span class="sub-option-icon"><img src="ICON/STORAGE.PNG" alt="Storage Icon"></span>Storage</div>
    </div>
</div>
<div class="sub-options-container">
    <div class="sub-options" id="sub-options-3">
        <div class="sub-option" onclick="loadFolder('categories/Portable_Companion.xml')"><span class="sub-option-icon"><img src="ICON/COMPANIONS.PNG" alt="Targetable Icon"></span>Companions</div>
        <div class="sub-option" onclick="loadFolder('categories/Portable_Locomotion.xml')"><span class="sub-option-icon"><img src="ICON/LOCOMOTION2.PNG" alt="Minigames Icon"></span>Locomotions</div>
		<div class="sub-option" onclick="loadFolder('categories/Interactions_Animations.xml')"><span class="sub-option-icon"><img src="ICON/ANIMATIONS2.PNG" alt="Animations Icon"></span>Animations</div>
        <div class="sub-option" onclick="loadFolder('categories/Interaction_Dances.xml')"><span class="sub-option-icon"><img src="ICON/DANCES.PNG" alt="Dances Icon"></span>Dances</div>
        <div class="sub-option" onclick="loadFolder('categories/Interactions_Group.xml')"><span class="sub-option-icon"><img src="ICON/ANIMATION_GROUP.PNG" alt="Group Icon"></span>Group</div>
		<div class="sub-option" onclick="loadFolder('categories/Interactions_Soundpacks.xml')"><span class="sub-option-icon"><img src="ICON/SOUNDPACK.PNG" alt="Soundpacks Icon"></span>Soundpacks</div>
    </div>
</div>
<div class="sub-options-container">
    <div class="sub-options" id="sub-options-4">
		<div class="sub-option" onclick="loadFolder('categories/Scene_Entitlement.xml')"><span class="sub-option-icon"><img src="ICON/ENTITLEMENTS.PNG" alt="Entitlements Icon"></span>Entitlements</div>
		<div class="sub-option" onclick="loadFolder('categories/Apt_Addon.xml')"><span class="sub-option-icon"><img src="ICON/APTADDONS2.PNG" alt="Resources Icon"></span>Add-ons</div>
    </div>
</div>
<div class="sub-options-container">
    <div class="sub-options" id="sub-options-5">
		<div class="sub-option" onclick="loadFolder('categories/Consumable.xml')"><span class="sub-option-icon"><img src="ICON/COINS.PNG" alt="Consumables Icon"></span>Consumables</div>
		<div class="sub-option" onclick="loadFolder('categories/Sticker.xml')"><span class="sub-option-icon"><img src="ICON/STICKERS.PNG" alt="Stickers Icon"></span>Stickers</div>
		<div class="sub-option" onclick="loadFolder('categories/Weapons.xml')"><span class="sub-option-icon"><img src="ICON/WEAPONS.PNG" alt="Embedded Icon"></span>Weapons</div>
		<div class="sub-option" onclick="loadFolder('categories/Aquarium.xml')"><span class="sub-option-icon"><img src="ICON/AQUARIUM.PNG" alt="Embedded Icon"></span>Fishy</div>
		<div class="sub-option" onclick="loadFolder('categories/Sodium.xml')"><span class="sub-option-icon"><img src="ICON/SODIUM.PNG" alt="Embedded Icon"></span>Sci-Fi</div>
        <div class="sub-option" onclick="loadFolder('categories/Unknown.xml')"><span class="sub-option-icon"><img src="ICON/PLACEHOLDER.PNG" alt="Unknown Icon"></span>Unsorted</div>
    </div>
</div>
<div class="sub-options-container">
    <div class="sub-options" id="sub-options-6">
		<div class="sub-option" onclick="loadFolder('categories/Minigame_Arcade_Machine.xml')"><span class="sub-option-icon"><img src="ICON/ARCADE.PNG" alt="Arcade Icon"></span>Arcade</div>
		<div class="sub-option" onclick="loadFolder('categories/Minigame.xml')"><span class="sub-option-icon"><img src="ICON/MINIGAMES.PNG" alt="Resources Icon"></span>Minigames</div>
		<div class="sub-option" onclick="loadFolder('categories/Minigame_Targetable.xml')"><span class="sub-option-icon"><img src="ICON/TARGETABLE.PNG" alt="Arcade Icon"></span>Targetable</div>
		<div class="sub-option" onclick="loadFolder('categories/Embedded_Objects.xml')"><span class="sub-option-icon"><img src="ICON/EMBEDDED.PNG" alt="Embedded Icon"></span>Embedded</div>
    </div>
</div>
<div class="sub-options-container">
    <div class="sub-options" id="sub-options-7">
        <div class="sub-option" onclick="loadFolder('categories/Core.xml')"><span class="sub-option-icon"><img src="ICON/CORE.PNG" alt="Resources Icon"></span>Core</div>
		<div class="sub-option" onclick="loadFolder('categories/Resource_Packs.xml')"><span class="sub-option-icon"><img src="ICON/RESOURCEPACK.PNG" alt="Resources Icon"></span>Resources</div>
		<div class="sub-option" onclick="loadFolder('categories/Worldmap_Objects.xml')"><span class="sub-option-icon"><img src="ICON/WORLDMAP.PNG" alt="Worldmap Icon"></span>Worldmap</div>
		<div class="sub-option" onclick="loadFolder('categories/Game_Launching_Object.xml')"><span class="sub-option-icon"><img src="ICON/GAMELAUNCHING.PNG" alt="Launching Icon"></span>Launching</div>
    </div>
</div>
<div class="sub-options-container">
    <div class="sub-options" id="sub-options-8">
		<div class="sub-option" onclick="loadFolder('categories/Male_Bundle.xml')"><span class="sub-option-icon"><img src="ICON/MALE_BUNDLE.PNG" alt="Part 3 Icon"></span>Male</div>
		<div class="sub-option" onclick="loadFolder('categories/Female_Bundle.xml')"><span class="sub-option-icon"><img src="ICON/FEMALE_BUNDLE.PNG" alt="Part 3 Icon"></span>Female</div>
		<div class="sub-option" onclick="loadFolder('categories/Clothing_Bundle.xml')"><span class="sub-option-icon"><img src="ICON/CLOTHING_BUNDLE.PNG" alt="Part 4 Icon"></span>Clothing</div>
        <div class="sub-option" onclick="loadFolder('categories/Furniture_Bundle.xml')"><span class="sub-option-icon"><img src="ICON/FURNITURE_BUNDLE.PNG" alt="Part 4 Icon"></span>Furniture</div>
		<div class="sub-option" onclick="loadFolder('categories/Animation_Bundle.xml')"><span class="sub-option-icon"><img src="ICON/DANCES.PNG" alt="Part 1 Icon"></span>Animations</div>
        <div class="sub-option" onclick="loadFolder('categories/Locomotion_Bundle.xml')"><span class="sub-option-icon"><img src="ICON/LOCOMOTION2.PNG" alt="Part 2 Icon"></span>Locomotions</div>
		<div class="sub-option" onclick="loadFolder('categories/Companion_Bundle.xml')"><span class="sub-option-icon"><img src="ICON/COMPANIONS.PNG" alt="Part 4 Icon"></span>Companions</div>
		<div class="sub-option" onclick="loadFolder('categories/Apt_Bundle.xml')"><span class="sub-option-icon"><img src="ICON/APT_BUNDLE4.PNG" alt="Resources Icon"></span>Spaces</div>
    </div>
</div>
<div class="sub-options-container">
    <div class="sub-options" id="sub-options-9">
		<div class="sub-option" onclick="togglePostinstallPopup()"><span class="sub-option-icon"><img src="ICON/PLACEHOLDER.PNG" alt="sql Icon"></span>SQL</div>
    </div>
</div>

<div class="search-options-container">
    <div class="sub-options" id="sub-options-10">
        <input type="text" id="keywordInput" placeholder="eg. 'female/torso red lockwood' or 'furniture/sofa veemee hdk_1.8'">
        <button class="go-button" onclick="searchFolder()">Go</button>
        <div class="sub-options" style="display: none;">
            <label for="checkbox1">
                <input type="checkbox" id="checkbox1" name="checkbox1"> Option 1
            </label>
            <label for="checkbox2">
                <input type="checkbox" id="checkbox2" name="checkbox2"> Option 2
            </label>
            <label for="checkbox3">
                <input type="checkbox" id="checkbox3" name="checkbox3"> Option 3
            </label>
        </div>
    </div>
</div>


</div>
<div id="postinstallPopup" style="display: none;">
    <h4 class="row-label">POSTINSTALL.SQL Generator</h4>
    <div><textarea id="premium" placeholder="Enter UUIDs - Rewards or Premium does not matter (comma, space, or line-separated)"></textarea></div>
    <div><h4 title="note">Note: Bundles will not work here - You must add the individual items</h4></div>
    <div>
        <button class="buttons2" onclick="generateSQL()">Generate SQL</button>
        <button class="buttons2" onclick="saveToLocalStorage()">Save</button>
        <button class="buttons2" onclick="loadFromLocalStorage()">Load</button>
		<button class="buttons2" id="clearArrayButton" onclick="clearArray()">Clear</button>
        <!-- New buttons for.txt files -->
        <button class="buttons2" onclick="saveAsTxtFile()">Backup to TXT</button>
		<button class="buttons2" onclick="UploadTxtFile()">Upload TXT</button>
    </div>
    <!-- Wrap the "Generate SQL" button in a div -->
    <div><div id="sqlOutput"></div></div>
    <!-- Wrap the "Copy SQL" and "Download SQL" buttons in a div -->
    <div class="button-group">
        <button class="buttons2" id="copySqlButton">COPY SQL</button>
        <a class="downloadbutton" id="downloadSqlButton" download="POSTINSTALL.SQL">DOWNLOAD SQL</a>
        <button class="buttons2" id="closeButton" onclick="togglePostinstallPopup()">HIDE TOOL</button>
    </div>
</div>



<div id="testinventoryPopup" style="display: none;">
    <h3 class="row-label">TESTINVENTORY.XML Generator</h3>
    <div><textarea id="enteruuid" placeholder="Enter UUIDs (comma, space, or line-separated)"></textarea></div>

    <div><button class="buttons2" onclick="generateXML()">Generate XML</button></div>

    <div id="testxmlOutput"></div>

    <div class="button-group">
        <button class="buttons2" id="copyXmlButton" onclick="copyText()">COPY XML</button>
		<button class="buttons2" id="downloadXmlButton" onclick="downloadtestxml()">DOWNLOAD XML</button>
        <button class="buttons2" id="closeButton" onclick="hidetestinventoryPopup()">HIDE TOOL</button>
    </div>
</div>

<div class="button-row">
		<button class="low-profile-button" id="sort-by-nice">Sort by Name</button>
		<button class="low-profile-button" id="sort-by-folder">Sort by UUID</button>
	</div>

<div class="wrapper">
<div class="grid-container" id="grid-container"></div>
</div>
</div>
<script>
const container = document.getElementById('gui-container');
const icons = container.getElementsByClassName('gui-icon');
const iconsCount = icons.length;
const subOptionsContainers = document.querySelectorAll('.sub-options');

let activeIndex = 10;
let isSubOptionActive = false;
let currentSubOptionIndices = Array.from({ length: iconsCount }, () => 0);

function updateActiveIcon() {
    for (let i = 0; i < iconsCount; i++) {
        icons[i].classList.remove('active');
    }
    icons[activeIndex].classList.add('active');
}


document.addEventListener('keydown', function (event) {
    if (event.key === 'ArrowLeft' || event.keyCode === 37) {
        if (isSubOptionActive) {
            if (currentSubOptionIndices[activeIndex] > 0) {
                currentSubOptionIndices[activeIndex]--;
                updateActiveSubOption(); // Update the active sub-option immediately
            }
        } else {
            if (activeIndex > 0) {
                activeIndex--;
                updateActiveIcon();
                updateActiveSubOption();
            }
        }
    } else if (event.key === 'ArrowRight' || event.keyCode === 39) {
        if (isSubOptionActive) {
            const subOptions = subOptionsContainers[activeIndex].querySelectorAll('.sub-option');
            if (currentSubOptionIndices[activeIndex] < subOptions.length - 1) {
                currentSubOptionIndices[activeIndex]++;
                updateActiveSubOption(); 
            }
        } else {
            if (activeIndex < iconsCount - 1) {
                activeIndex++;
                updateActiveIcon();
                updateActiveSubOption();
              
            }
        }
    } else if (event.key === 'ArrowDown' || event.keyCode === 40) {
        isSubOptionActive = true;
        // Add your logic for handling down arrow
    } else if (event.key === 'ArrowUp' || event.keyCode === 38) {
        if (isSubOptionActive) {
            isSubOptionActive = false;
            updateActiveSubOption();
          
        }
    }
});

updateActiveIcon();
updateActiveSubOption();


document.addEventListener('DOMContentLoaded', function() {
    for (let i = 0; i < iconsCount; i++) {
        icons[i].addEventListener('click', function() {
            activeIndex = i;
            isSubOptionActive = false;
            updateActiveIcon();
            updateActiveSubOption();
        });

        const subOptionsContainer = document.getElementById('sub-options-' + i);
        if (subOptionsContainer) {
            const subOptions = subOptionsContainer.querySelectorAll('.sub-option');
            for (let j = 0; j < subOptions.length; j++) {
                subOptions[j].addEventListener('click', function() {
                    currentSubOptionIndices[activeIndex] = j;
                    updateActiveSubOption();
                
                });
            }
        }
    }
});

function updateActiveSubOption() {
    for (let i = 0; i < iconsCount; i++) {
        const subOptionsContainer = document.getElementById('sub-options-' + i);
        if (subOptionsContainer) {
            if (i === activeIndex) {
                subOptionsContainer.style.display = 'flex';
                const subOptions = subOptionsContainer.querySelectorAll('.sub-option');
                for (let j = 0; j < subOptions.length; j++) {
                    if (j === currentSubOptionIndices[i]) {
                        subOptions[j].classList.add('active-option');
                    } else {
                        subOptions[j].classList.remove('active-option');
                    }
                }
            } else {
                subOptionsContainer.style.display = 'none';
            }
        }
    }
}

function saveAsTxtFile() {
    const textareaContent = document.getElementById('premium').value;

    // Create a Blob from the textarea content
    const blob = new Blob([textareaContent], { type: 'text/plain' });

    // Create a temporary anchor element and set its attributes for download
    const a = document.createElement('a');
    const url = URL.createObjectURL(blob);
    a.href = url;
    a.download = 'MY_ITEMS_BACKUP.txt';

    // Append the anchor to the body and programmatically click it to trigger the download
    document.body.appendChild(a);
    a.click();

    // Cleanup - remove the anchor and revoke the Blob URL
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
}

let lastClickedButton = null;

function handleButtonClick(button) {
    if (lastClickedButton !== null) {
        lastClickedButton.classList.remove("active");
    }

    button.classList.add("active");
    lastClickedButton = button;
}

const buttons = document.querySelectorAll(".buttons button");
buttons.forEach((button) => {
    button.addEventListener("click", function () {
        handleButtonClick(button);
        loadFolder(button.dataset.folder);
    });
});

const gridContainer = document.getElementById('grid-container');
let gridItems = [];  // Initialize the gridItems array

function createGridItem(folderName, niceName) {
    const gridItem = document.createElement('div');
    gridItem.classList.add('grid-item');

    const iconImage = document.createElement('img');
    iconImage.classList.add('placeholder-image');
    const imageUrl = `DATA/${folderName}/${folderName}.WEBP`;
    iconImage.src = imageUrl;
    iconImage.alt = 'Icon (Small)';
    iconImage.loading = 'lazy';

    const niceNameElement = document.createElement('div');
    niceNameElement.classList.add('nice-name');
    niceNameElement.textContent = niceName;
    niceNameElement.id = 'nice-name';

    const folderNameElement = document.createElement('div');
    folderNameElement.classList.add('folder-name');
    folderNameElement.textContent = folderName;
    folderNameElement.id = 'folder-name';

    gridItem.appendChild(iconImage);
    gridItem.appendChild(niceNameElement);
    gridItem.appendChild(folderNameElement);

    niceNameElement.addEventListener('click', function (event) {
        event.stopPropagation();
        copyToClipboardAndShowCopied(folderNameElement);
    });

    folderNameElement.addEventListener('click', function (event) {
        event.stopPropagation();
        copyToClipboardAndShowCopied(folderNameElement);
    });

    gridItem.addEventListener('click', function () {
        redirectToItemPage(folderName);
    });

    gridContainer.appendChild(gridItem);

    gridItems.push(gridItem); // Push the gridItem into the gridItems array
}

// Function to sort items by folderName
let sortOrderFolder = 0; // 0: folderName asc, 1: folderName desc
let sortOrderNice = 0; // 0: niceName asc, 1: niceName desc

// Function to sort items by folderName
function sortByFolderName() {
    let sortedItems;
    if (sortOrderFolder === 0) {
        sortedItems = gridItems.sort((a, b) => {
            const nameA = a.querySelector('.folder-name').textContent.toUpperCase();
            const nameB = b.querySelector('.folder-name').textContent.toUpperCase();
            return nameA.localeCompare(nameB);
        });
        sortOrderFolder = 1;
    } else {
        sortedItems = gridItems.sort((a, b) => {
            const nameA = a.querySelector('.folder-name').textContent.toUpperCase();
            const nameB = b.querySelector('.folder-name').textContent.toUpperCase();
            return nameB.localeCompare(nameA);
        });
        sortOrderFolder = 0;
    }

    // Clear the grid container
    while (gridContainer.firstChild) {
        gridContainer.removeChild(gridContainer.lastChild);
    }

    // Reappend the sorted items to the grid container
    sortedItems.forEach(item => {
        gridContainer.appendChild(item);
    });
}

// Function to sort items by niceName
function sortByNiceName() {
    const customSorting = (a, b) => {
        const nameA = a.querySelector('.nice-name').textContent.toUpperCase().replace(/['"“”]/g, '');
        const nameB = b.querySelector('.nice-name').textContent.toUpperCase().replace(/['"“”]/g, '');

        if (nameA < nameB) {
            return -1;
        }
        if (nameA > nameB) {
            return 1;
        }
        return 0;
    };

    let sortedItems;
    if (sortOrderNice === 0) {
        sortedItems = gridItems.sort(customSorting);
        sortOrderNice = 1;
    } else {
        sortedItems = gridItems.sort((a, b) => customSorting(b, a));
        sortOrderNice = 0;
    }

    // Clear the grid container
    while (gridContainer.firstChild) {
        gridContainer.removeChild(gridContainer.lastChild);
    }

    sortedItems.forEach(item => {
        gridContainer.appendChild(item);
    });
}

const sortByFolderButton = document.getElementById('sort-by-folder');
const sortByNiceButton = document.getElementById('sort-by-nice');

sortByFolderButton.addEventListener('click', sortByFolderName);
sortByNiceButton.addEventListener('click', sortByNiceName);

function saveToLocalStorage() {
    const textareaContent = document.getElementById('premium').value;
    localStorage.setItem('premiumTextareaContent', textareaContent);
    // Update the copiedItems array with the content from the premium textarea
    window.copiedItems = textareaContent.split('\n').map(item => item.trim());
}

function loadFromLocalStorage() {
    const storedContent = localStorage.getItem('premiumTextareaContent');
    if (storedContent) {
        document.getElementById('premium').value = storedContent;
        // Update the copiedItems array with the content from localStorage
        window.copiedItems = storedContent.split('\n').map(item => item.trim());
    }
    // No need for an alert when no saved content is found
}

if (!window.copiedItems) {
    window.copiedItems = [];
}

// Function to update the copiedItems array based on the clicked item
function updateCopiedItems(textToCopy, originalText) {
    if (textToCopy !== 'UUID ADDED') {
        const index = window.copiedItems.indexOf(textToCopy);
        if (index === -1) {
            window.copiedItems.push(textToCopy);
        } else {
            window.copiedItems.splice(index, 1);
        }
    } else {
        const index = window.copiedItems.indexOf(originalText);
        if (index !== -1) {
            window.copiedItems.splice(index, 1);
        }
        const revertedUuidIndex = window.copiedItems.indexOf(textToCopy);
        if (revertedUuidIndex !== -1) {
            window.copiedItems.splice(revertedUuidIndex, 1);
        }
    }

    // Save copiedItems to local storage whenever it changes
    localStorage.setItem('copiedItems', JSON.stringify(window.copiedItems));

    // Update the content of the textarea with ID "premium"
    const textarea = document.getElementById('premium');
    textarea.innerHTML = createClickableLinks(window.copiedItems).join('<br>');
    textarea.value = window.copiedItems.join('\n');
}

function copyToClipboardAndShowCopied(folderNameElement) {
    const textToCopy = folderNameElement.textContent;
    const originalText = folderNameElement.dataset.originalText || folderNameElement.textContent;

    // Update copiedItems array and update content in local storage and textarea
    updateCopiedItems(textToCopy, originalText);

    // Toggle the text of folderNameElement between originalText and 'UUID ADDED'
    if (folderNameElement.textContent === originalText) {
        folderNameElement.textContent = 'UUID ADDED';
        folderNameElement.style.fontWeight = 'bold'; 
        folderNameElement.style.paddingBottom = '11px'; // Set padding
        folderNameElement.style.paddingLeft = '65px'; // Set padding
        folderNameElement.style.paddingRight = '65px'; // Set padding
        folderNameElement.style.color = 'limegreen'; // Change color
        folderNameElement.style.fontSize = '15px'; // Change font size
        folderNameElement.dataset.originalText = originalText;
    } else {
        folderNameElement.textContent = originalText;
        folderNameElement.removeAttribute('data-original-text');
        folderNameElement.style.fontWeight = 'normal';
        folderNameElement.style.paddingBottom = '18px'; // Set padding
        folderNameElement.style.paddingLeft = '15px'; // Set padding
        folderNameElement.style.paddingRight = '15px'; // Set padding
        folderNameElement.style.color = 'white'; // Change color
        folderNameElement.style.fontSize = '9px'; // Change font size
    }
}

window.onload = function() {
    loadFromLocalStorage();
};

function createClickableLinks(items) {
    return items.map(item => `<a href="#" onclick="handleItemClick(event)">${item}</a>`);
}
function handleItemClick(event) {
    const clickedItem = event.target.textContent;
    // Handle click action for the clicked item as needed
    console.log("Clicked item:", clickedItem);
    // For example, you can open a new window with the link or perform any other action
}

function displayCopiedItems() {
    let copiedItemsString = "";
    for (let i = 0; i < copiedItems.length; i++) {
        copiedItemsString += copiedItems[i] + "\n";
    }

    console.log("Copied Items:");
    console.log(copiedItemsString);
}


function searchFolder() {
    gridContainer.innerHTML = '';
    const folderXML = 'categories/data14';
    const keyword = document.getElementById('keywordInput').value.trim();
    fetchFolderData(folderXML, keyword);
}

document.getElementById('keywordInput').addEventListener('keypress', function (e) {
    if (e.key === 'Enter') {
        searchFolder();
    }
});

function clearArray() {
    // Clear the copied items list
    copiedItems = [];
    
    // Clear the content of the textarea with ID "premium"
    const textarea = document.getElementById('premium');
    textarea.value = '';

    // Revert all 'UUID ADDED' texts to their original values
    const elementsWithOriginalText = document.querySelectorAll('[data-original-text]');
    elementsWithOriginalText.forEach(element => {
        element.textContent = element.dataset.originalText;
        element.removeAttribute('data-original-text');
        element.style.fontWeight = 'normal';
        element.style.paddingBottom = '18px';
        element.style.paddingLeft = '15px';
        element.style.paddingRight = '15px';
        element.style.color = 'white';
        element.style.fontSize = '9px';
    });

    console.log("Array cleared, textarea content cleared, and UUID ADDED texts reverted.");
}

// Call the clearArray function when "CLEAR ARRAY" button is clicked
function clearArrayButtonClicked() {
    clearArray();
}

// Attach the function to the "CLEAR ARRAY" button onclick event
const clearArrayButton = document.getElementById('clearArrayButton');
clearArrayButton.addEventListener('click', clearArrayButtonClicked);

async function fetchFolderData(folderXML, filterByKeyword) {
    try {
        const response = await fetch(folderXML);
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        const text = await response.text();

        const lines = text.trim().split('\n');
        console.log(`Found ${lines.length} entries in XML.`);

        // Clear the gridItems array before populating it with new items
        gridItems.length = 0;

        lines.forEach(line => {
            const values = line.split('|');
            if (values.length >= 4) {
                const folderName = values[0].trim();
                const niceName = values[3].trim();
                const lowercaseLine = line.toLowerCase(); // Convert the line to lowercase
                const lowercaseKeywords = filterByKeyword ? filterByKeyword.toLowerCase().split(" ") : []; // Convert the keywords to lowercase if they exist

                // Check if the filterByKeyword is defined and if it has at least 2 characters
                if (!filterByKeyword || (filterByKeyword && filterByKeyword.length >= 2)) {
                    const matchedTerms = lowercaseKeywords.every(keyword => lowercaseLine.includes(keyword));

                    if (!filterByKeyword || (filterByKeyword && filterByKeyword.length >= 2 && matchedTerms)) {
                        createGridItem(folderName, niceName);
                    }
                } else {
                    console.log('Search term should be at least 2 characters long.');
                }
            } else {
                console.error('Invalid data found in line:', line);
            }
        });

        // Update the gridItems array with the new items
        gridItems = Array.from(gridContainer.children);
    } catch (error) {
        console.error('Error fetching XML:', error);
    }
}

        function redirectToItemPage(folderName) {
            const itemPageURL = `uuid.html?${encodeURIComponent(folderName)}`;
            window.location.href = itemPageURL;
        }
		
function togglePostinstallPopup() {
    var popup = document.getElementById('postinstallPopup');

    if (popup.style.display === 'none' || popup.style.display === '') {
        // Show popup with scale-up animation
        popup.style.display = 'block';
        popup.style.animation = 'scaleUp 0.3s ease forwards';
        popup.style.zIndex = 999;

        // Focus on the textarea
        var textarea = document.getElementById('premium');
        textarea.focus();
    } else {
        // Hide popup with scale-down animation
        popup.style.animation = 'scaleDown 0.3s ease forwards';

        // Wait for the animation to complete before hiding
        setTimeout(function() {
            popup.style.display = 'none';
        }, 300); // 300 ms for the animation duration
    }
}




function showtestinventoryPopup() {
    var popup = document.getElementById('testinventoryPopup');
    if (popup.style.display === 'none' || popup.style.display === '') {
        popup.style.display = 'block'; 
        popup.style.zIndex = 999; 
    } else {
        popup.style.display = 'none';
    }
}

function generateSQL() {
            const premiumInput = document.getElementById("premium").value;
            // const rewardsInput = document.getElementById("rewards").value;

            const premiumUUIDs = parseInput(premiumInput);
           //  const rewardsUUIDs = parseInput(rewardsInput);

            const staticText = `-- To support the new heat fields in furniture items, we must patch old active items so that their heat is 22 for all heat fields. --
-- This is required for sorting furniture items by heat value. --
CREATE TEMPORARY TABLE TempActives
(
	ObjectIndex		INTEGER
);
INSERT INTO TempActives SELECT ObjectIndex FROM Metadata WHERE KeyName == 'ACTIVE' EXCEPT SELECT ObjectIndex FROM Metadata WHERE KeyName == 'MAIN_HEAT';
INSERT INTO Metadata SELECT ObjectIndex, "MAIN_HEAT", 22 FROM TempActives;
INSERT INTO Metadata SELECT ObjectIndex, "HOST_HEAT", 22 FROM TempActives;
INSERT INTO Metadata SELECT ObjectIndex, "VRAM_HEAT", 22 FROM TempActives;
INSERT INTO Metadata SELECT ObjectIndex, "PPU_HEAT", 22 FROM TempActives;
INSERT INTO Metadata SELECT ObjectIndex, "NET_HEAT", 22 FROM TempActives;
DROP TABLE TempActives;\n`;

            const premiumSQL = generatePremiumTableSQL(premiumUUIDs);
         //   const rewardsSQL = generateRewardsTableSQL(rewardsUUIDs);

            const sqlOutput = document.getElementById("sqlOutput");
            const generatedSQL = staticText + premiumSQL;
            sqlOutput.textContent = generatedSQL;

            // Show the "Copy SQL" and "Download SQL" buttons
            const copySqlButton = document.getElementById("copySqlButton");
            const downloadSqlButton = document.getElementById("downloadSqlButton");
            copySqlButton.style.display = "block";
            downloadSqlButton.style.display = "block";

            // Set the copied text to the clipboard when "Copy SQL" is clicked
            copySqlButton.onclick = function() {
                const textarea = document.createElement("textarea");
                textarea.value = generatedSQL;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand("copy");
                document.body.removeChild(textarea);
                alert("SQL code copied to clipboard!");
            }

            // Create a Blob object and initiate the download when "Download SQL" is clicked
            downloadSqlButton.onclick = function() {
    const blob = new Blob([generatedSQL], { type: "text/plain" });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "POSTINSTALL.SQL";
    document.body.appendChild(a);
    a.click();
    window.URL.revokeObjectURL(url);
    document.body.removeChild(a);
}
        }

        function parseInput(input) {
            return input
                .split(/[, \s\n]+/) // Split by comma, space, or newline
                .map(uuid => uuid.trim()) // Trim each UUID
                .filter(uuid => uuid); // Remove empty elements
        }

        function generatePremiumTableSQL(uuids) {
            let sql = '-- PREMIUM TABLE --\n';

            uuids.forEach((uuid, index) => {
                if (uuid) {
                    const entitlementIndex = index + 1;
                    sql += `UPDATE Objects SET EntitlementIndex = (SELECT MAX(EntitlementIndex) FROM Entitlements) + ${entitlementIndex}, InventoryEntryType = '2', UserLocation = '1' WHERE ObjectId = '${uuid}';\n`;
                }
            });

            return sql + "\n";
        }

        function generateRewardsTableSQL(uuids) {
            let sql = '-- REWARD TABLE --\n';

            uuids.forEach((uuid, index) => {
                if (uuid) {
                    const rewardIndex = index + 1;
                    sql += `UPDATE Objects SET RewardIndex = (SELECT MAX(RewardIndex) FROM Rewards) + ${rewardIndex}, InventoryEntryType = '1', UserLocation = '1' WHERE ObjectId = '${uuid}';\n`;
                }
            });

            return sql + "\n";
        }
		
function generateXML() {
    var input = document.getElementById("enteruuid").value;
    console.log("Input:", input);

    var uuidArray = input.split(/[\n, ]+/).map(uuid => uuid.trim()).filter(uuid => uuid !== "");
    console.log("UUIDs:", uuidArray);

    var xmlContent = "<?xml version=\"1.0\"?>\n<inventory>\n";
    uuidArray.forEach(uuid => {
        xmlContent += `\t<object uuid="${uuid}" />\n`;
    });
    xmlContent += "</inventory>";

    console.log("Generated XML content:");
    console.log(xmlContent);

    var outputElement = document.getElementById("testxmlOutput");
    if (outputElement) {
        outputElement.innerText = xmlContent;
    }
}

function copyText() {
    var xmlOutput = document.getElementById("testxmlOutput").innerText;
    // Create a temporary textarea element
    var tempTextArea = document.createElement("textarea");
    // Assign the text content to the textarea
    tempTextArea.value = xmlOutput;
    // Append the textarea to the document
    document.body.appendChild(tempTextArea);
    // Select the text in the textarea
    tempTextArea.select();
    // Execute the copy command
    document.execCommand("copy");
    // Remove the textarea from the document
    document.body.removeChild(tempTextArea);
}

function downloadtestxml() {
    var xmlOutput = document.getElementById("testxmlOutput").innerText;
    var element = document.createElement('a');
    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(xmlOutput));
    element.setAttribute('download', 'TESTINVENTORY.XML');
    element.style.display = 'none';
    document.body.appendChild(element);
    element.click();
    document.body.removeChild(element);
}


function hidetestinventoryPopup() {
    var popup = document.getElementById('testinventoryPopup');
    popup.style.display = 'none';
}

function loadDefaultFolder() {
    gridContainer.innerHTML = '';

    // Get the current URL
    var currentURL = window.location.href;

    // Find the index of the '?' character
    var queryIndex = currentURL.indexOf('?');

    // If '?' is found, extract the XML path after it
    if (queryIndex !== -1) {
        var xmlPath = currentURL.substring(queryIndex + 1);
        fetchFolderData(xmlPath);
    } else {
        // If '?' is not found, use a default XML path
        var defaultXMLPath = 'categories/Portable_Companion.xml';
        console.log("No XML path found in the URL. Using default XML path:", defaultXMLPath);
        fetchFolderData(defaultXMLPath);
    }
}

// Call loadDefaultFolder on page load
loadDefaultFolder();

// Add event listener for popstate event (back/forward button pressed)
window.addEventListener('popstate', function() {
    loadDefaultFolder();
});


function loadFolder(folderXML) {
    gridContainer.innerHTML = '';
    fetchFolderData(folderXML);

    // Assuming you want to update the URL when the folder is loaded
    updateURLWithXMLFlag(folderXML);
}

function updateURLWithXMLFlag(xmlFileName) {
    // Assuming you want to add the XML file name as a query parameter
    var newURL = window.location.href.split('?')[0] + '?' + xmlFileName;
    
    // Update the URL without reloading the page
    window.history.pushState({ xml: xmlFileName }, document.title, newURL);
}




</script>

</body>

</html>
